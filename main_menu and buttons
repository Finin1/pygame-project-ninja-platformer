import pygame
import os

pygame.init()
font_type = pygame.font.SysFont('arial', 36) # добавление шрифта


class Button: # кнопка
    def __init__(self, width, height, color): # параметры
        self.width = width
        self.height = height
        self.color = color

    def draw(self, x, y, message, action=None):
        mouse = pygame.mouse.get_pos() # мышка
        click = pygame.mouse.get_pressed() # отслеживание клика
        pygame.draw.rect(screen, self.color, (x, y, self.width, self.height)) # рисование кнопки
        if x < mouse[0] < x + self.width: # проверка клика на кнопку
            if y < mouse[1] < y + self.height:
                if click[0] == 1:
                    if action is not None:
                        action()
        text = font_type.render(message, True, (0, 0, 0)) # создание
        screen.blit(text, (x + 5, y + 5)) # отображение текста кнопки
        

def main(screen): # функция главного меню
    screen.fill((0, 0, 0))

    game_button = Button(125, 50, (255, 255, 255)) # кнопка играть
    game_button.draw(188, 100, 'Играть', play)

    stat_button = Button(201, 50, (255, 255, 255)) # кнопка статистики
    stat_button.draw(150, 200, 'Статистика')

    exit_button = Button(125, 50, (255, 255, 255)) # кнопка выхода
    exit_button.draw(188, 300, 'Выход', exit)

def play():
    global in_menu
    in_menu = False

pygame.display.set_caption('Ниндзя: Уроганные хроники') # создание pygame окна
size = width, height = 501, 501
screen = pygame.display.set_mode(size)


running = True # флаг работы программы
main_menu = True # флаг главного меню
in_menu= True
while running: # основной цикл
    if in_menu:
        for event in pygame.event.get(): # получение действия пользователя
            if event.type == pygame.QUIT: # проверка на закрытие окна
                running = False
        if main_menu:
            main(screen) # отображение главного меню
        pygame.display.flip() # отрисовка кадра
    else:
        running = False
        os.system('py -3 Player.py')
        